<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Générateur de Versets Bibliques</title>
    <style>
        :root {
            --primary-color: #2c3e50;
            --secondary-color: #3498db;
            --accent-color: #e74c3c;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --success-color: #2ecc71;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            color: var(--dark-color);
            line-height: 1.6;
        }
        
        .container {
            max-width: 800px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            background-color: var(--primary-color);
            color: white;
            border-radius: 10px;
            margin-bottom: 30px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.9;
        }
        
        .card {
            background: white;
            border-radius: 10px;
            padding: 30px;
            margin-bottom: 20px;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s ease;
        }
        
        .card:hover {
            transform: translateY(-5px);
        }
        
        .verse-container {
            text-align: center;
            min-height: 200px;
            display: flex;
            flex-direction: column;
            justify-content: center;
        }
        
        .verse-text {
            font-size: 1.5rem;
            font-style: italic;
            margin-bottom: 20px;
            line-height: 1.8;
        }
        
        .verse-reference {
            font-size: 1.2rem;
            font-weight: bold;
            color: var(--secondary-color);
        }
        
        .btn {
            display: inline-block;
            background-color: var(--secondary-color);
            color: white;
            padding: 12px 24px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            font-weight: bold;
            transition: background-color 0.3s ease;
            margin: 5px;
        }
        
        .btn:hover {
            background-color: #2980b9;
        }
        
        .btn-primary {
            background-color: var(--secondary-color);
        }
        
        .btn-share {
            background-color: var(--accent-color);
        }
        
        .btn-share:hover {
            background-color: #c0392b;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .share-buttons {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .share-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            margin: 0 5px;
            color: white;
            font-size: 1.2rem;
            text-decoration: none;
            transition: transform 0.3s ease;
        }
        
        .share-btn:hover {
            transform: scale(1.1);
        }
        
        .facebook {
            background-color: #3b5998;
        }
        
        .twitter {
            background-color: #1da1f2;
        }
        
        .whatsapp {
            background-color: #25d366;
        }
        
        .stats-container {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-top: 30px;
        }
        
        .stat-card {
            background: white;
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        }
        
        .stat-number {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--secondary-color);
            margin-bottom: 10px;
        }
        
        .stat-label {
            font-size: 1rem;
            color: var(--dark-color);
            opacity: 0.8;
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding: 20px;
            color: var(--dark-color);
            opacity: 0.7;
        }
        
        .loading {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        @media (max-width: 600px) {
            h1 {
                font-size: 2rem;
            }
            
            .verse-text {
                font-size: 1.2rem;
            }
            
            .btn {
                padding: 10px 20px;
                font-size: 0.9rem;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Générateur de Versets Bibliques</h1>
            <p class="subtitle">Découvrez la parole de Dieu au hasard</p>
        </header>
        
        <main>
            <div class="card">
                <div class="verse-container">
                    <p class="verse-text" id="verse-text">Cliquez sur le bouton pour générer un verset biblique aléatoire.</p>
                    <p class="verse-reference" id="verse-reference"></p>
                </div>
                
                <div class="controls">
                    <button class="btn btn-primary" id="generate-btn">
                        <span id="btn-text">Générer un verset</span>
                        <span class="loading" id="loading-spinner" style="display: none;"></span>
                    </button>
                    <button class="btn btn-share" id="share-btn">Partager</button>
                </div>
                
                <div class="share-buttons" id="share-buttons" style="display: none;">
                    <a href="#" class="share-btn facebook" id="facebook-share">
                        <i>f</i>
                    </a>
                    <a href="#" class="share-btn twitter" id="twitter-share">
                        <i>t</i>
                    </a>
                    <a href="#" class="share-btn whatsapp" id="whatsapp-share">
                        <i>w</i>
                    </a>
                </div>
            </div>
            
            <div class="stats-container">
                <div class="stat-card">
                    <div class="stat-number" id="total-verses">0</div>
                    <div class="stat-label">Versets générés</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="unique-books">0</div>
                    <div class="stat-label">Livres explorés</div>
                </div>
                <div class="stat-card">
                    <div class="stat-number" id="page-views">0</div>
                    <div class="stat-label">Vues de la page</div>
                </div>
            </div>
        </main>
        
        <footer>
            <p>© 2023 Générateur de Versets Bibliques - Tous droits réservés</p>
        </footer>
    </div>

    <script>
        // Base de données de versets bibliques (extrait pour l'exemple)
        const bibleVerses = [
            {
                book: "Jean",
                chapter: 3,
                verse: 16,
                text: "Car Dieu a tant aimé le monde qu'il a donné son Fils unique, afin que quiconque croit en lui ne périsse point, mais qu'il ait la vie éternelle."
            },
            {
                book: "Jérémie",
                chapter: 29,
                verse: 11,
                text: "Car je connais les projets que j'ai formés sur vous, dit l'Éternel, projets de paix et non de malheur, afin de vous donner un avenir et de l'espérance."
            },
            {
                book: "Philippiens",
                chapter: 4,
                verse: 13,
                text: "Je puis tout par celui qui me fortifie."
            },
            {
                book: "Romains",
                chapter: 8,
                verse: 28,
                text: "Nous savons, du reste, que toutes choses concourent au bien de ceux qui aiment Dieu, de ceux qui sont appelés selon son dessein."
            },
            {
                book: "Psaumes",
                chapter: 23,
                verse: 1,
                text: "L'Éternel est mon berger: je ne manquerai de rien."
            },
            {
                book: "Proverbes",
                chapter: 3,
                verse: 5,
                text: "Confie-toi en l'Éternel de tout ton cœur, et ne t'appuie pas sur ta sagesse."
            },
            {
                book: "Ésaïe",
                chapter: 41,
                verse: 10,
                text: "Ne crains rien, car je suis avec toi; Ne promène pas des regards inquiets, car je suis ton Dieu; Je te fortifie, je viens à ton secours, Je te soutiens de ma droite triomphante."
            },
            {
                book: "Matthieu",
                chapter: 11,
                verse: 28,
                text: "Venez à moi, vous tous qui êtes fatigués et chargés, et je vous donnerai du repos."
            },
            {
                book: "2 Corinthiens",
                chapter: 5,
                verse: 17,
                text: "Si quelqu'un est en Christ, il est une nouvelle créature. Les choses anciennes sont passées; voici, toutes choses sont devenues nouvelles."
            },
            {
                book: "Éphésiens",
                chapter: 2,
                verse: 8,
                text: "Car c'est par la grâce que vous êtes sauvés, par le moyen de la foi. Et cela ne vient pas de vous, c'est le don de Dieu."
            }
        ];

        // Éléments DOM
        const verseTextElement = document.getElementById('verse-text');
        const verseReferenceElement = document.getElementById('verse-reference');
        const generateButton = document.getElementById('generate-btn');
        const shareButton = document.getElementById('share-btn');
        const shareButtonsContainer = document.getElementById('share-buttons');
        const loadingSpinner = document.getElementById('loading-spinner');
        const btnText = document.getElementById('btn-text');
        
        // Éléments de statistiques
        const totalVersesElement = document.getElementById('total-verses');
        const uniqueBooksElement = document.getElementById('unique-books');
        const pageViewsElement = document.getElementById('page-views');

        // Variables pour les statistiques
        let stats = {
            totalVerses: 0,
            uniqueBooks: new Set(),
            pageViews: 0,
            generatedVerses: []
        };

        // Initialisation
        document.addEventListener('DOMContentLoaded', function() {
            // Charger les statistiques depuis le localStorage
            loadStats();
            
            // Mettre à jour l'affichage des statistiques
            updateStatsDisplay();
            
            // Incrémenter les vues de page
            stats.pageViews++;
            saveStats();
            updateStatsDisplay();
            
            // Ajouter les écouteurs d'événements
            generateButton.addEventListener('click', generateRandomVerse);
            shareButton.addEventListener('click', toggleShareButtons);
            
            // Configurer les boutons de partage
            setupShareButtons();
        });

        // Fonction pour générer un verset aléatoire
        function generateRandomVerse() {
            // Afficher l'indicateur de chargement
            loadingSpinner.style.display = 'inline-block';
            btnText.textContent = 'Génération...';
            generateButton.disabled = true;
            
            // Simuler un délai de chargement (pourrait être remplacé par un appel API réel)
            setTimeout(() => {
                // Sélectionner un verset aléatoire
                const randomIndex = Math.floor(Math.random() * bibleVerses.length);
                const randomVerse = bibleVerses[randomIndex];
                
                // Mettre à jour l'affichage
                verseTextElement.textContent = `"${randomVerse.text}"`;
                verseReferenceElement.textContent = `${randomVerse.book} ${randomVerse.chapter}:${randomVerse.verse}`;
                
                // Mettre à jour les statistiques
                stats.totalVerses++;
                stats.uniqueBooks.add(randomVerse.book);
                stats.generatedVerses.push(randomVerse);
                
                // Sauvegarder les statistiques
                saveStats();
                
                // Mettre à jour l'affichage des statistiques
                updateStatsDisplay();
                
                // Masquer l'indicateur de chargement
                loadingSpinner.style.display = 'none';
                btnText.textContent = 'Générer un verset';
                generateButton.disabled = false;
                
                // Masquer les boutons de partage
                shareButtonsContainer.style.display = 'none';
            }, 800);
        }

        // Fonction pour basculer l'affichage des boutons de partage
        function toggleShareButtons() {
            if (verseReferenceElement.textContent === '') {
                alert('Veuillez d\'abord générer un verset à partager.');
                return;
            }
            
            if (shareButtonsContainer.style.display === 'none' || shareButtonsContainer.style.display === '') {
                shareButtonsContainer.style.display = 'flex';
            } else {
                shareButtonsContainer.style.display = 'none';
            }
        }

        // Fonction pour configurer les boutons de partage
        function setupShareButtons() {
            const facebookShare = document.getElementById('facebook-share');
            const twitterShare = document.getElementById('twitter-share');
            const whatsappShare = document.getElementById('whatsapp-share');
            
            facebookShare.addEventListener('click', function(e) {
                e.preventDefault();
                shareOnFacebook();
            });
            
            twitterShare.addEventListener('click', function(e) {
                e.preventDefault();
                shareOnTwitter();
            });
            
            whatsappShare.addEventListener('click', function(e) {
                e.preventDefault();
                shareOnWhatsApp();
            });
        }

        // Fonctions de partage
        function shareOnFacebook() {
            const verseText = verseTextElement.textContent;
            const verseReference = verseReferenceElement.textContent;
            const shareUrl = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(window.location.href)}&quote=${encodeURIComponent(`${verseText} - ${verseReference}`)}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }

        function shareOnTwitter() {
            const verseText = verseTextElement.textContent;
            const verseReference = verseReferenceElement.textContent;
            const shareUrl = `https://twitter.com/intent/tweet?text=${encodeURIComponent(`${verseText} - ${verseReference}`)}&url=${encodeURIComponent(window.location.href)}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }

        function shareOnWhatsApp() {
            const verseText = verseTextElement.textContent;
            const verseReference = verseReferenceElement.textContent;
            const shareUrl = `https://api.whatsapp.com/send?text=${encodeURIComponent(`${verseText} - ${verseReference} ${window.location.href}`)}`;
            window.open(shareUrl, '_blank', 'width=600,height=400');
        }

        // Fonctions pour gérer les statistiques
        function loadStats() {
            const savedStats = localStorage.getItem('bibleVerseGeneratorStats');
            if (savedStats) {
                const parsedStats = JSON.parse(savedStats);
                stats.totalVerses = parsedStats.totalVerses || 0;
                stats.uniqueBooks = new Set(parsedStats.uniqueBooks || []);
                stats.pageViews = parsedStats.pageViews || 0;
                stats.generatedVerses = parsedStats.generatedVerses || [];
            }
        }

        function saveStats() {
            const statsToSave = {
                totalVerses: stats.totalVerses,
                uniqueBooks: Array.from(stats.uniqueBooks),
                pageViews: stats.pageViews,
                generatedVerses: stats.generatedVerses
            };
            localStorage.setItem('bibleVerseGeneratorStats', JSON.stringify(statsToSave));
        }

        function updateStatsDisplay() {
            totalVersesElement.textContent = stats.totalVerses;
            uniqueBooksElement.textContent = stats.uniqueBooks.size;
            pageViewsElement.textContent = stats.pageViews;
        }
    </script>
</body>
</html>
